<%- include('../includes/head.ejs') %>


<body>
  

    <main>
        
        <header>
        <section class="hero-banner">
            <%- include('../includes/nav.ejs') %>
        </section>
    </header>

    <section>
 
            <div class="container mb-3">

                <% if (editing) { %><h2>Update Account</h2><% } else { %><h2>Sign Up</h2><% } %>

             
                <% if (errorMessage) { %>
                    <div class="message-error"><%= errorMessage %></div>
                <% } %>
                <form action="/trainer/<% if (editing) { %>account<% } else { %>registered<% } %>" method="POST" class="signup">
                    <div class="form-control">
                    <label for="fname">First Name</label>
                    <input
                    class="<%= validationErrors.find(e => e.param === 'fname') ? 'invalid' : '' %>"
                    type="text" 
                    name="fname" 
                    id="fname"
                    value="<% if (hasError) { %><%= trainer.fname %><% } else if (editing) { %><%= trainer.fname %><% } %>">
                    </div>
                    <div class="form-control">
                        <label for="lname">Last Name</label>
                        <input 
                        type="text" 
                        name="lname" 
                        id="lname"
                        class="<%= validationErrors.find(e => e.param === 'lname') ? 'invalid' : '' %>"
                        value="<% if (hasError) { %><%= trainer.lname %><% } else if (editing) { %><%= trainer.lname %><% }%>">

                    </div>


                    <div class="form-control">
                        <label for="address">Address</label>
                        <input type="text" 
                        name="address" 
                        id="address"
                        class="<%= validationErrors.find(e => e.param === 'address') ? 'invalid' : '' %>"
                        value="<% if (hasError) { %><%= trainer.address %><% } else if (editing) { %><%= trainer.address %><% } %>">
                    </div>    

                    <div class="form-control">
                        <label for="Email">Email</label>
                        <input type="email"
                        name="email"
                        id="email"
                        class="<%= validationErrors.find(e => e.param === 'email') ? 'invalid' : '' %>"
                        value="<% if (hasError) { %><%= trainer.email %><% } else if (editing) { %><%= trainer.email %><% } %>">
                    </div> 


                    <div class="form-control">
                        <label for="password">Password</label>
                        <input type="text" 
                        name="password" 
                        id="address"
                        class="<%= validationErrors.find(e => e.param === 'password') ? 'invalid' : '' %>"
                        value="<% if (hasError) { %><%= trainer.password %><% } %>">
                    </div>

                    <div class="form-control">
                        <label for="password">Confirm Password</label>
                        <input type="text" 
                        name="confirmPassword" 
                        id="confirmPassword"
                        class="<%= validationErrors.find(e => e.param === 'confirmPassword') ? 'invalid' : '' %>"
                        value="<% if (hasError) { %><%= trainer.confirmPassword %><% } %>">
                    </div> 

                    <% if (editing) { %>
                        <input type="hidden" value="<%= trainer._id %>" name="trainerId">
                    <% } %>


                    <div class="form-control">
                        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                        <button class="btn btn-primary" type="submit">Register</button>
                    </div>
                </form>
            </div>
    </section>


    </main>




<%- include('../includes/footer.ejs') %>